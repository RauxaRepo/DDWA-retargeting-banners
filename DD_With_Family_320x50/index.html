<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="ad.size" content="width=320,height=50">
    <script type="text/javascript">
        var clickTag = "https://www.google.com/";
    </script>
    <script src="https://s0.2mdn.net/ads/studio/cached_libs/tweenmax_2.0.1_min.js"></script>

    <style type="text/css">

        body {
            padding: 0;
            margin: 0;
        }
        * { 
            padding: 0;
        }
        .container {
            margin: 0 auto;
            position: relative;
            overflow: hidden;

        }
        .banner-content {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            display: none;
        }
        .banner-content.banner-content--active {
            opacity: 1;
            display: block;
        }

        .b-320x50 {
            width: 320px;
            height: 50px;
            padding: 0;
        }

       .dot_background {
            position: absolute;
            top: 0;
            left: 0;
            width: 320px;
            height: 50px;
            background:url('./images/background_purple_320x50_2x.png') no-repeat;
            background-size: 320px 50px;
            background-position:0px 0px;
        }

        .ending_logo {
            position: absolute;
            top: 0;
            left: 0;
            width: 320px;
            height: 50px;
            background:url('./images/dd_logo_button_320x50_2x.png') no-repeat;
            background-size: 320px 50px;
            background-position:0px 0px;
            background-color: #563d82;
        }

        .bounce_box {
            position: absolute;
            top: 0;
            left: 0;
            width: 320px;
            height: 50px;
            overflow:hidden;
        }      

        .dd_button_wrapper{
            position: absolute;
            top: 0;
            left: 0;
            width: 320px;
            height: 50px;
            overflow:hidden;
        }

        .dd_button {
            position: absolute;
            top: 0;
            left: 0;
            width: 320px;
            height: 50px;
            overflow:hidden;
            background:url('./images/dd_logo_button_320x50_2x.png') no-repeat;
            background-size: 320px 50px;
            background-position:0px 0px;
            background-color: #563d82;
            cursor: pointer;
        }

        .copy_shadow {
            position: absolute;
            top: 0;
            left: 0;
            width: 320px;
            height: 148px;
            border:0;
        }

        .banner-border {
            position: absolute;
            width: 318px;
            height: 48px;
            border: 1px solid #222;
            pointer-events: none;
            z-index: 15;
            top: 0px;
            left: 0px;
        }

       .exit{
            position: absolute;
            width: 320px;
            height: 50px;
           /* z-index: 18;*/
            top: 0;
            left: 0;
            cursor: pointer;
        }

    </style>
    <script type="text/javascript" charset="utf-8">

        document.addEventListener("DOMContentLoaded", function(e) {

            // variables
            var loadedImage = 0;
            var images = [];
            var dotBackground = document.querySelector('.dot_background');
            var copyShadow = document.querySelector('.copy_shadow');
            var ddButton = document.querySelector('.dd_button');
            var bounceBox = document.querySelector('.bounce_box');
            var ddButtonWrapper = document.querySelector('.dd_button_wrapper');
            
            // elements
            var bannerContent = document.querySelector('.banner-content');




            function preload() {
                images = [
                    './images/background_purple_320x50_2x.png',
                    './images/copy_shadow_purple_320x50_2x.png',
                    './images/dd_logo_button_320x50_2x.png',
                ];

                for (var i = 0; i < images.length; i++) {
                    var imageObj = new Image();
                    imageObj.src = images[i];
                    imageObj.addEventListener("load", iLoad, false);
                }
               // console.log('Entering preload');
            }
            function iLoad() {
                loadedImage++;
                if (images.length == loadedImage) {
                    dotBackground.src = images[0];
                    copyShadow.src = images[1];
                    ddButton.src = images[2];
                    init();
               }
            }

            function init() {
                console.log('init');
                bannerContent.classList.add('banner-content--active');

                var loop = 0;

              function checkLoop() {
                 loop++; 
                }

            TweenMax.set(ddButtonWrapper, {autoAlpha:0});
             const tl = new TimelineMax({repeat:1});
             tl
            .from(copyShadow,.8, {y:700, x:700, ease:Elastic.easeOut.config(0.9,1.7)},'+=.2')
            .fromTo(bounceBox,.6,{y:-60, x:60, scale: 1.06, ease:Elastic.easeOut.config(1,1.1)},{y:0, x:0, scale: 1, ease:Elastic.easeOut.config(1,1.1)},'-=.8')
            .to([dotBackground,bounceBox],.1,{autoAlpha:0},'+=3.6')
            .to(ddButtonWrapper,.1, {autoAlpha:1})
            .to(ddButtonWrapper,.1, {autoAlpha:0},'+=3.6');


           /* TweenMax.set(ddButtonWrapper, {autoAlpha:0});
             const tl = new TimelineMax({repeat:2});
             tl
            .from(copyShadow,.7, {y:600, x:600, ease:Elastic.easeOut.config(0.9,1.1)},'+=.1')
            .fromTo(bounceBox,.7,{y:-90, x:100, scale: 1.06, ease:Elastic.easeOut.config(1.2,1)},{y:0, x:0, scale: 1, ease:Elastic.easeOut.config(1,1)},'-=.8')
            .to([dotBackground,bounceBox],.1,{autoAlpha:0},'+=2.5')
            .to(ddButtonWrapper,.1, {autoAlpha:1})
            .to(ddButtonWrapper,.1, {autoAlpha:0},'+=1.9');*/
 


              setTimeout(function(){
                 console.log('done');
                },15000)
            }

              window.onload = function(e) {
              preload();
            }

        });
    </script>
    </head>
<body>
    <div id="container" class="container b-320x50" style="background-color: #fff;">
        <div class="banner-content">
             <div class="ending_logo"></div>
             <div class="dot_background"></div>
             <div class="bounce_box">
                 <img src="" alt="" class="copy_shadow" />
             </div> 
             <div class="dd_button_wrapper">
                  <div class="dd_button"></div>
             </div>       
         </div><!-- end banner content -->
         <div class="banner-border"></div>
          <a class="exit" href="javascript:void(window.open(window.clickTag))"></a>
     </div>
      
  </body>
</html>